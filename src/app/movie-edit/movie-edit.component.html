<!--Ancho maximo y centrado, para que se vea bien en diferentes pantallas-->
<div class="max-w-4xl mx-auto ">
  <div class="flex justify-between">

    <!-- Boton para volver-->
    <button type="button" routerLink="/manager-home/movies"
      class="rounded-md border border-black mt-5  hover:bg-gray-300 ml-3 px-3 py-1">
      &larr; Volver
    </button>

    <!-- Boton para eliminar-->
    <button type="button" *ngIf="isEditMode" (click)="deleteMovie()"
      class="rounded-md border border-black mt-5 bg-red-600 text-white hover:bg-red-800 mr-3 px-3 py-1">
      Eliminar Pelicula
    </button>
  </div>

  <!--Texto superior si es edit-->
  <h1 *ngIf="isEditMode" class=" text-2xl font-bold text-center mb-5">Complete los campos que desea editar</h1>
  <!--Texto superior si es new cinema-->
  <h1 *ngIf="!isEditMode" class=" text-2xl font-bold text-center mb-5">Complete los campos para crear la nueva pelicula</h1>

  <!--Formularios-->
  <form [formGroup]="movieForm" (ngSubmit)="saveMovie()" class=" flex flex-col mx-3 mb-3">
    <label>Nombre:</label>
    <input type="text" formControlName='name'
      class=" border-2 rounded-md px-2 py-1 border-gray-400 outline-none focus:border-blue-500">

    <label class="mt-4">Descripción:</label>
    <textarea rows="8" type="text" formControlName='description'
      class=" border-2 rounded-md px-2 py-1 border-gray-400 outline-none focus:border-blue-500">
    </textarea>

    <label class="mt-4">Link imagen:</label>
    <textarea type="text" formControlName="imageLink"
      class=" border-2 rounded-md px-2 py-1 border-gray-400 outline-none focus:border-blue-500">
    </textarea>

    <img [src]="imageLink" alt="Imagen de la película " class="flex self-center w-40 flex-wrap my-5 mx-4">

    <!--Generos-->
    <label class="mt-4">Generos:</label>
    <div class="flex flex-wrap gap-2 mt-2 ">
      <span *ngFor="let genre of allGenres" (click)="toggleGenreSelection(genre.id)"
        [class.active]="movieGenresIds.includes(genre.id)"
        class=" px-2 text-lg rounded-full cursor-pointer border  border-gray-400 hover:bg-blue-100">
        {{ genre.name }}
      </span>
    </div>
      


    <!--Boton-->
    <button type="submit" [disabled]="!movieForm.valid"
      class="border-2 border-black mt-8 py-2 px-4 w-auto mx-auto rounded-md hover:bg-gray-300 fel disabled:border-gray-400 disabled:text-gray-400">
      {{ isEditMode ? 'Guardar Cambios' : 'Agregar Pelicula' }}
    </button>
  </form>

</div>